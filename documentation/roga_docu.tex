%%% File-Information {{{
%%% Filename: roga_docu.tex
%%% Purpose: project rteport
%%% Time-stamp: <2004-06-30 18:19:32 mp>
%%% Authors: The LaTeX@TUG-Team [http://latex.tugraz.at/]:
%%%          Karl Voit (vk), Michael Prokop (mp), Stefan Sollerer (ss)
%%% History:
%%%   20050914 (ss) correction of "backref=true" to "backref" due to hyperref documentation
%%%   20040630 (mp) added comments to foldmethod at end of file
%%%   20040625 (vk,ss) initial version
%%%
%%% Notes:
%%%
%%%
%%%
%%% }}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% main document {{{

\documentclass[
a4paper,     %% defines the paper size: a4paper (default), a5paper, letterpaper, ...
% landscape,   %% sets the orientation to landscape
% twoside,     %% changes to a two-page-layout (alternatively: oneside)
% twocolumn,   %% changes to a two-column-layout
% headsepline, %% add a horizontal line below the column title
% footsepline, %% add a horizontal line above the page footer
% titlepage,   %% only the titlepage (using titlepage-environment) appears on the first page (alternatively: notitlepage)
% parskip,     %% insert an empty line between two paragraphs (alternatively: halfparskip, ...)
% leqno,       %% equation numbers left (instead of right)
% fleqn,       %% equation left-justified (instead of centered)
% tablecaptionabove, %% captions of tables are above the tables (alternatively: tablecaptionbelow)
% draft,       %% produce only a draft version (mark lines that need manual edition and don't show graphics)
% 10pt         %% set default font size to 10 point
% 11pt         %% set default font size to 11 point
12pt         %% set default font size to 12 point
]{scrartcl}  %% article, see KOMA documentation (scrguide.dvi)



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% packages
%%%

%%%
%%% encoding and language set
%%%d

%%% ngerman: language set to new-german
\usepackage{ngerman}

%%% babel: language set (can cause some conflicts with package ngerman)
%%%        use it only for multi-language documents or non-german ones
% \usepackage[ngerman]{babel}

%%% inputenc: coding of german special characters
\usepackage[utf8]{inputenc}

%%% fontenc, ae, aecompl: coding of characters in PDF documents
\usepackage[T1]{fontenc}
\usepackage{ae,aecompl}

%%%
%%% technical packages
%%%

%%% amsmath, amssymb, amstext: support for mathematics
%\usepackage{amsmath,amssymb,amstext}

%%% psfrag: replace PostScript fonts
\usepackage{psfrag}

%%% listings: include programming code
%\usepackage{listings}

%%% units: technical units
%\usepackage{units}

%%%
%%% layout
%%%

%%% scrpage2: KOMA heading and footer
%%% Note: if you don't use this package, please remove
%%%       \pagestyle{scrheadings} and corresponding settings
%%%       below too.
\usepackage[automark]{scrpage2}


%%%
%%% PDF
%%%

\usepackage{ifpdf}

%%% Should be LAST usepackage-call!
%%% For docu on that, see reference on package ``hyperref''
\ifpdf%   (definitions for using pdflatex instead of latex)

  %%% graphicx: support for graphics
  \usepackage[pdftex]{graphicx}

  \pdfcompresslevel=9

  %%% hyperref (hyperlinks in PDF): for more options or more detailed
  %%%          explanations, see the documentation of the hyperref-package
  \usepackage[%
    %%% general options
    pdftex=true,      %% sets up hyperref for use with the pdftex program
    %plainpages=false, %% set it to false, if pdflatex complains: ``destination with same identifier already exists''
    %
    %%% extension options
    backref,      %% adds a backlink text to the end of each item in the bibliography
    pagebackref=false, %% if true, creates backward references as a list of page numbers in the bibliography
    colorlinks=true,   %% turn on colored links (true is better for on-screen reading, false is better for printout versions)
    %
    %%% PDF-specific display options
    bookmarks=true,          %% if true, generate PDF bookmarks (requires two passes of pdflatex)
    bookmarksopen=false,     %% if true, show all PDF bookmarks expanded
    bookmarksnumbered=false, %% if true, add the section numbers to the bookmarks
    %pdfstartpage={1},        %% determines, on which page the PDF file is opened
    pdfpagemode=None         %% None, UseOutlines (=show bookmarks), UseThumbs (show thumbnails), FullScreen
  ]{hyperref}


  %%% provide all graphics (also) in this format, so you don't have
  %%% to add the file extensions to the \includegraphics-command
  %%% and/or you don't have to distinguish between generating
  %%% dvi/ps (through latex) and pdf (through pdflatex)
  \DeclareGraphicsExtensions{.pdf}

\else %else   (definitions for using latex instead of pdflatex)

  \usepackage[dvips]{graphicx}

  \DeclareGraphicsExtensions{.eps}

  \usepackage[%
    dvips,           %% sets up hyperref for use with the dvips driver
    colorlinks=false %% better for printout version; almost every hyperref-extension is eliminated by using dvips
  ]{hyperref}

\fi


%%% sets the PDF-Information options
%%% (see fields in Acrobat Reader: ``File -> Document properties -> Summary'')
%%% Note: this method is better than as options of the hyperref-package (options are expanded correctly)
\hypersetup{
  pdftitle={}, %%
  pdfauthor={}, %%
  pdfsubject={}, %%
  pdfcreator={Accomplished with LaTeX2e and pdfLaTeX with hyperref-package.}, %%
  pdfproducer={}, %%
  pdfkeywords={} %%
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% user defined commands
%%%

%%% \mygraphics{}{}{}
%% usage:   \mygraphics{width}{filename_without_extension}{caption}
%% example: \mygraphics{0.7\textwidth}{rolling_grandma}{This is my grandmother on inlinescates}
%% requires: package graphicx
%% provides: including centered pictures/graphics with a boldfaced caption below
%%
\newcommand{\mygraphics}[3]{
\begin{figure}[!h]
  \begin{center}
    \includegraphics[width=#1, keepaspectratio=true]{#2} \\
    \caption{#3}\label{fig:#2}
  \end{center}
\end{figure}

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% define the titlepage
%%%

% \subject{}   %% subject which appears above titlehead
% \titlehead{} %% special heading for the titlepage

%%% title
\title{CAT-MOUSE-CHEESE}

%%% author(s)
\author{Torben Miller (3164082)\ \ \ \ \ \and
Fabian Biedlingmaier (3224303)        \and
Nicolas Hartlieb (Matrikelnummer)}

%%% date
\date{Heidelberg, am \today{}}

% \publishers{}

% \thanks{} %% use it instead of footnotes (only on titlepage)

% \dedication{} %% generates a dedication-page after titlepage


%%% uncomment following lines, if you want to:
%%% reuse the maketitle-entries for hyperref-setup
%\newcommand\org@maketitle{}
%\let\org@maketitle\maketitle
%\def\maketitle{%
%  \hypersetup{
%    pdftitle={\@title},
%    pdfauthor={\@author}
%    pdfsubject={\@subject}
%  }%
%  \org@maketitle
%}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% set heading and footer
%%%

%%% scrheadings default:
%%%      footer - middle: page number
\pagestyle{scrheadings}

%%% user specific
%%% usage:
%%% \position[heading/footer for the titlepage]{heading/footer for the rest of the document}

%%% heading - left
% \ihead[]{}

%%% heading - center
% \chead[]{}

%%% heading - right
% \ohead[]{}

%%% footer - left
% \ifoot[]{}

%%% footer - center
% \cfoot[]{}

%%% footer - right
% \ofoot[]{}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% begin document
%%%

\begin{document}

 \pagenumbering{roman} %% small roman page numbers

%%% include the title
% \thispagestyle{empty}  %% no header/footer (only) on this page
 \maketitle

%%% start a new page and display the table of contents
 \newpage
 \tableofcontents

%%% start a new page and display the list of figures
 \newpage
 \listoffigures

%%% start a new page and display the list of tables
 \newpage
 \listoftables

%%% display the main document on a new page
 \newpage

 \pagenumbering{arabic} %% normal page numbers (include it, if roman was used above)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% begin main document
%%% structure: \section \subsection \subsubsection \paragraph \subparagraph
%%%

\section*{Zusammenfassung}
Nico
\section{Aufgabenstellung}
Bei dem "Cat Mouse Cheese" Projekt gibt es zwei Roboter: eine Katze und eine Maus. Desweiteren befindet sich ein Stück Käse auf dem Spielfeld.
Ziel der Katze ist es die Maus zu fangen und zu verhindern, dass die Maus den Käse bekommt.
Die Maus muss dementsprechend der Katze ausweichen und zum Käse kommen.
Das Spiel gilt als beendet, sobald:
\begin{description}
\item[a)]Die Katze die Maus gefangen hat => Die Katze siegt
\item[b)] Die Maus kommt zum Käse => Die Maus siegt
\item[c)] Nach einer gewissen Zeit tritt weder a) noch b) ein => Unentschieden
\end{description}
In diesem Projekt wurde die Rolle der Katze übernommen.

\subsection{Maps Robo}
Bei den verwendeten Robotern handelt es sich jeweils um einenDieser Roboter hat eine maximale Lineargeschwindigkeit von 0.22 m/s und eine maximale Winkelgeschwindigkeit von 2.84 rad/s. Turtlebot3 Burger. \footnote{\url{https://emanual.robotis.com/docs/en/platform/turtlebot3/specifications/\#hardware-specifications}}\\
Um Hindernisse zu erkennen, besitzt er einen Laserscanner mit einer Scanreichweite von 120 $\sim$ 3500mm und einer Auflösung von 1 Grad. \footnote{\url{https://emanual.robotis.com/docs/en/platform/turtlebot3/appendix_lds_01/}} \\
Für das Spiel gibt es jedoch Restriktionen der Roboter bezüglich Linear- und Winkelgeschwindigkeit.\\
\paragraph{Katze:}
\begin{description}
 \item Lineargeschwindigkeit: konstant 0.22 m/s
 \item Winkelgeschwindigkeit: -0.8 ... 0.8 rad/s
\end{description}	
\paragraph{Maus:}
\begin{description}
 \item Lineargeschwindigkeit: konstant 0.18 m/s
 \item Winkelgeschwindigkeit: -2.84 .. 2.84 rad/s
\end{description}
Das  Spiel findet auf 3 unterschiedlichen Maps statt:
\mygraphics{0.6\textwidth}{Welt1.png}{Welt 1}

In dieser Welt gibt es viele Hindernisse, weshalb es für den Roboter schwer ist sich darin kollisionsfrei zu bewegen. Durch die viel langsamere Winkelgeschwindigkeit kann die Maus die Katze dort leicher ausmanövrieren.
\mygraphics{0.6\textwidth}{Welt2.png}{Welt 2}

Welt 2 hat weniger Hindernisse, als die erste Welt, weshalb die Kollisionsvermeidung dort für beide Roboter leichter ist, die Katze aber trotzdem noch ausmanövriert werden kann.
\mygraphics{0.6\textwidth}{Welt3.png}{Welt 3}

In dieser Welt gibt es bis auf den Käse und den gegnerischen Roboter keine Hindernisse. Daher müsste die Katze durch ihre größere Lineargeschwindigkeit im Vorteil sein.
\subsection{Mögliche Implementierungsmöglichkeiten}
Für das Projekt gibt es keine Vorgaben, wie man das Verhalten des eigenen Roboters implementieren muss, 
im Laufe des Semester wurden jedoch verschiedene Methoden in der Vorlesung vorgestellt.
\subsubsection{Kraftbasierte Kollisionsvermeidung und Homing}
Bei diesen Verfahren wird bei der Kollisionsvermeidung eine Kraft simuliert, die von den Hindernissen auf den Roboter wirken und ihn um so mehr abstoßen, je näher er an einem Hindernis ist. Beim Homing erfährt der Roboter eine Anziehungskraft auf einen Punkt im Spielfeld. Durch das Zusammenaddieren beider Kräfte, dem Homing und der Kollisionsvermeidung, ergibt sich eine neue Kraft, die den Roboter von Hindernissen abstößt ihn jedoch gleichzeitig immer näher zum Ziel treibt 
\subsubsection{Sense Plan Act}
Hier wird für jede Folge von möglichen Zusatänden der maximale nutzen berechnet, der Roboter arbeit somit vorrausschauend. Dabei entsteht ein Suchbaum. Dieser Suchbaum kann mit dem MinMax-Algorithmus in diesem Spielfall optimiert werden.
\subsubsection{Optimal Control}
Während bei MinMax die addierten Kosten minimiert oder der addierte Reward maximiert wird, werden bei optimal control die integrierten Kosten minimiert.
\subsubsection{Path Planning}
Durch eine gegebene Umgebungkarte versucht der Roboter den kürzesten Weg zu seinem Ziel zu berechnen. Um das zu erreichen wird die Karte beispielsweise mit einem Occupancy grid in Zellen zerlegt und mit einem Shortest Path Algorithmus wie dem A*-Algorithmus die kürzeste Distanz von Start-Ziel berechnet.  
\subsection{Zielsetzung}
Die Katze soll allen Hindernissen ausweichen und die Maus fangen, bevor diese den Käse erreicht. Um diese Ziel zu erreichen wird eine kraftbasierte Kollisionsvermeidung und Homing verwendet. Um die Maus tatsächlich zu fangen, muss die Kollisionsvermeidung für die Maus jedeoch deaktiviert werden, Kollisionen mit anderen Hindernissen müssen jedoch auch weiterhin vermieden werden. Mit einer State Machine wird verhindert, dass die Maus die Katze ausmanövriert und zum Käse kommt.
\clearpage

\section{Konzept}
\subsection{Grundverhalten}
Die Katze hat zwei wesentliche Grundbestandteile. Sie kann ,auf einen gegebenen Punkt, \glqq homen\grqq{} und sie besitzt eine Kollisionsvermeidung.
\subsection{Homing}
\subsubsection{Ziele}
F"ur das Homing gibt es vier verschiedene Ziele (\ref{fig:homingZiele.png}). Den K"ase, der Mittelpunkt zwischen K"ase und Maus, die Maus und der vermutete Punkt auf den sich die Maus zubewegt.
\mygraphics{0.7\textwidth}{homingZiele.png}{Ziele f"ur das Homing}
\clearpage
\subsubsection{Zustandsautomat}
Die Zielauswahl wird durch einen Zustandsautomat (\ref{fig:stateMachine.png}) festgelegt.
Der Zustandsautomat besitzt drei Zust"ande, mit dem Zustand \glqq go to cheese\grqq{} als Startzustand. Der Zustand \glqq go to cheese\grqq{} entspricht dem K"ase, der Zustand \glqq go to mid\grqq{} den Mittelpunkt zwischen Maus und K"ase als Ziel und der Zustand \glqq hunt\grqq{} fasst die zwei Ziele Maus und den vorrausberechnenten Punkt zusammen. Wie der Zustand \glqq hunt\grqq{} sich verh"alt wird im Abschnitt \ref{hunt} genauer erl"autert.\\
\hspace*{0.63\textwidth}\scalebox{0.7}{\begin{tabular}[h]{|c|}
\hline
m\_c\_d := Maus-Katze Distanz \\ m\_ch\_d := Maus-Käse Distanz \\ c\_ch\_d := Katze-Käse Distanz \\
\hline
\end{tabular}}

\mygraphics{0.7\textwidth}{stateMachine.png}{Zustandsautomat}
Es gibt drei Kriterien die einen Zustandswechsel zur Folge haben. Das \glqq arrived\grqq{} Kriterium ist hierbei das einfachste und wird erreicht sobald ein gewisser Abstand zum Zielpunkt unterschritten wird.\\
Das zweite Kriterium \glqq$m\_c\_d < P_{1} \land  m\_ch\_d > P_{2} $\grqq{} besagt: sollten der Abstand zwischen Katze und Maus einen gewissen Wert $P_{1}$ unterschritten haben und zus"atzlich der Abstand zwischen K"ase und Maus einen weiteren Wert $P_{2}$ "uberschritten haben so wird der Zustand gewechselt. Umgangsprachlich ausgedr"uckt bedeutet es, dass sollte sich die Katze nah an der Maus befinden und die Maus aber noch weit genug vom K"ase weg sein so wird die Maus gejagt. Wobei der Parameter $P_{1}$ \glqq nah \grqq{} und der Parameter $P_{2}$ \glqq noch weit genug\grqq{} eingrenzt. $P_{1}$ und $P_{2}$ wurden empirisch festgelegt.\\
Das dritte Kriterum \glqq $m\_c\_d + P_{3} < c\_ch\_d$\grqq{} bedeutet: ist der Abstand zwischen der Maus und dem Käse kleiner dem Abstand zwischen der Katze und dem Käse so erfolgt der Zustandswechsel. Hier wird ein Wert $P_{3}$ hinzugefügt der als Hysterese fungiert.
\\\\Im Zustand \glqq go to cheese\grqq{} löst das \glqq arrived\grqq{} Kriterium einen Wechsel in den Zustand \glqq go to mid\grqq{}
aus. Äquivalent dazu löst das gleiche Kriterium im Zustand \glqq go to mid\grqq{} den Wechsel in den Zustand \glqq hunt\grqq{} aus.
Von beiden Zuständen, \glqq go to cheese\grqq{} und \glqq go to mid\grqq{}, findet ein Wechsel in den Zustand \glqq hunt\grqq{} statt, sollte das zweite Kriterium, \glqq$m\_c\_d < P_{1} \land  m\_ch\_d > P_{2} $\grqq{}, erfüllt sein. Im Zustand \glqq hunt\grqq{} greift das dritte Kriterium, \glqq $m\_c\_d + P_{3} < c\_ch\_d$\grqq{}, um den Wechsel in den Zustand \glqq go to cheese\grqq{} einzuleiten.
\subsubsection{Zustand: \glqq hunt\grqq{}}
\label{hunt}
Der Zustand \glqq hunt\grqq{} entscheidet ob die Maus direkt als Ziel angefahren wird oder ob die Katze die Bewegung der Maus vorrausberechnet. Im Fall der Vorrausberechnung wird auch entschieden wie weit vorrausberechnet wird.\\
Das Berechnen der Bewegung bezweckt eine sich vom Käse entfernende Schlingerbewegung der Maus (\ref{fig:ziel.png}).
Dieser Ansatz fungiert als Gegenspieler zu einem kraftbasierten Ansatz der Maus.
\mygraphics{0.6\textwidth}{ziel.png}{Schlingerbewegung}
Um diese Verhalten zu erreichen wird die Bewegung der Maus verschieden weit vorrausberechnet.
Ist die Katze sehr nah an der Maus so wird die Maus als Ziel genutzt. Ist die Katze nah so wird die Maus maximal weit vorrausberechnet. Umso weiter die Katze von der Maus entfernt ist umso weniger weit wird die Maus vorrausberechnet.
Bis schließlich die Maus wieder als Ziel genutzt wird.\\
\clearpage
Den Wert der Skalierung der Vorrausberechnung wird r-Wert genannt. Er wird anhand einer Funktion berechnet.
Gegeben aus den Anforderungen benötigt besagte Funktion eine sägezahnähnliche Form.\\Hierzu wurde die Funktion $r= \frac{2}{x} - \frac{2}{x^3}$
gewählt mit $x := Distanz(Maus,Katze)$  (\ref{fig:huntFunction.png}).
\mygraphics{0.9\textwidth}{huntFunction.png}{r-Faktor Funktion}
\clearpage
\subsection{Collison Avoidance}
Fabian
Die Drehung der Katze wird durch einen Radianten \footnote {Wertebereich [0:2 $\pi$]} angegeben. Ein positiver Wert führt zu einer Drehung gegen den Uhrzeigersinn, dementsprechend führt ein negativer Wert zu einer Drehung in Uhrzeigersinn.
Die Lasersensoren scannen 360 Grad um die Katze in je 1 Grad Schritten, abgegeben in Radianten \footnote {1 Gard ~ 0,0174533}, Objekte werden ab einer entfernung von 3,5 Metern erkannt.
Bei der Kollisionsvermeidung werden nicht alle 360 Werte berücksichtigt. Die relevanten Werte werden durch einen Parameter angegeben \footnote {rel\_phi Zeile 123}, welche angibt wie groß der relevante Scannbereich sein soll.

\subsubsection{Funktionsentwiklung}
Folgende Kriterein waren für die Funktion der Kollisionsvermeidung wichtig.
\begin{itemize}
\item Je geringer die Distanz zu einem Objekt \footnote {sensor.range} desto größe die Kraft
\item Je geringer der Winkel einem Obekt zur Fahrtrichtung der Katze, desto größer deren Kraft
\end{itemize}

Nun ist ein genauer Blick auf die Wertebereiche der relevanten Variablen nötig.\\

 \begin{tabular}[h]{lcr}
 Variable & Wert & Auswirkung auf die Kraft \\
 sensor.angular & $[0 : rel\_phi]$ & negativ (Drehung mit den Uhrzeigersinn) \\
 sensor.angular & $[2\pi : 2\pi-rel\_phi]$ & positiv (Drehung gegen den Uhrzeigersinn) \\
 sensor.range & gegen 0,8  & Kraft gegen 0 \\
 sensor.range & gegen 0 & Kraft wird größer \\

 \end{tabular}
\\

\[ Force= -\sin(sensor.angular) * (rel\_range-sensor.range) \]
\mygraphics{0.7\textwidth}{Kollision.png}{Funktion Collison Avoidance}
Die negative Sinusfunktion wird hier als Grundgerüst genommen. Da sich sensor.angle zwischen 0 und 2$/pi$ bewegt. Werte nahe der 0 führen zu einer negativen Kraft und bewirken somit eine Rechtsdrehung. Werte nahe $2\pi $ bewirkeln hingegen eine Linksdrehung. Die so entstehende, Winkel abhänige, Kraft soll nun größer werden je kleiner die Distanz ist.


\subsubsection{Maus reausrechen}
Die aufgestellte Funktion erzeugt das gewünschte Verhalten, zeigt jedoch bei späterne Tests einen gravirenden Fehler. Die Katze weicht nun bei der Jagt nach der Maus selbigerauch aus und ist so nicht im Stande die Maus zu fangen. \\
Um dieses Problem zu lösen wurde ein Speziallfall entwickelt.
Ziel ist es die Maus für die Kollisionsvermeidung unsichtbar zu machen. \\
\paragraph{Strategie:}
\begin{enumerate}
\item Maus ist in Scannreichweite
\item Gescannte Range entspricht der Entfernung zur Maus
\item Relevante Winkle in Bezug auf die Größe der Maus berechnen
\item Alle sensor.range-Werte der relevanten Winkel auf infinity setzen
\end{enumerate}

Sobald die Maus in Sensorreichweite ist, ist es wichtig zu überprüfen ob die Sensor.range der mathematsichen Distanz zur Maus entspricht. Falls man dies nicht überprüft kann es passieren, dass sich ein Hindernis zwischen Maus und Katze befinden. Das Hindernis wir von dem Alorithmus als Maus tituliert und für die Kollisionsvermeidung nicht berücksichtigt. Dies hat zur Folge, dass die Katze in das Hindernis hineinfährt.\\

Sofern diese Fälle berücksichtigt worden sind, kann es daran gehen die relevanten Sensorwerten zu löschen(auf infinity zu setzten). \\

Zuerst wird der angkle\_mouse berechnet dies ist der Winkel aus Sicht der Katze zur Maus, mit den globalen Positionsangabne\footnote{Positionen der Maus in odom Sysem}.
\[ angle\_mouse=\tan( \frac{\Delta x}{\Delta y} ) -cat\_phi \]

Angle\_mous gibt den Winkel der Maus zur Basis der Katze an, nun wird berechnet welcher Sensorwinkel auf die Mitte der Maus zeigt:

\[ laserMouse\_middle  =  \vert \frac{ (angle\_mouse + 2  \pi) \% (2 \pi)}{angle\_increment}  \vert * angle\_increment \]
\mygraphics{0.5\textwidth}{collisionANGLE2.png}{Veranschaulichung Sensor.angle Katze}
Nachdem der Sensorwinkel zu Mitte der Maus berechnet wurde, wird mit Hilfe des Radiuses(mouse\_radius) der Maus die Ausenwinkel berechnet.

\[ 
laserMous\_border =  \vert { \tan( \frac{mouse\_radius}{\Delta cat\_mouse} ) } / angle\_increment \vert  * angle\_increment \]
\hspace*{0.63\textwidth}\scalebox{0.7}{\begin{tabular}[h]{|c|}
\hline
Winkel zwischen Rot Lils:= $\tan( \frac{mouse\_radius}{\Delta cat\_mouse} )$ \\
Blau := mouse\_radiu s\\
Rot := $\Delta cat\_mouse$ \\
\hline
\end{tabular}}
\mygraphics{0.5\textwidth}{catmous.png}{Übersicht Funktionen Katze und Maus}

Nachdem berechnet wurde welche sensor.amgle-Werte momentan die Maus scannen, werden alle Sensor.range-Werte dieser Winkel auf Infinity gesetzt. Nachdem alle relevanten Werte des Lasersensors auf Infinity gesetzt sind, ist die Maus für die Kollisionsvermeidung unsichtbar und die Katze sieht die Mous nicht als Hindernis an, welchesihre Fahrtrichtung beeinflusst.
\mygraphics{0.5\textwidth}{collisionMOUS.png}{Lasersensor ignorieren }

\subsubsection{Maus reausrechen}
Eine Weitere Schwierigkeit zeigte sich als der Käse in der Fahrspur der Katze lag. Der Lasersensor der Katze scannt horizontal auf einer bestimmten Höhe. Da der Käse zu niedrig ist, um vom lasersensor erfasst zu werden weicht die Katze dem Käse nicht aus, sondern fährt in ihn hinein. \\
Um dieses Verhalten zu beseitigen wurde eine Möglichkeit gesucht den Käse in die Kollisionsvermeidung miteinzubeziehen.

\paragraph{Strategie:}
\begin{enumerate}
\item Käse ist in Scannreichweite
\item Relevante Winkle in Bezug auf die Größe und Position des Käses berechnen
\item Alle sensor.range-Werte der relevanten Winkel Werte zuweisen
\end{enumerate}

Mit dem Globalen Koordinaten wird überprüft ob der Käse theoretisch in Sensorreichweite ist. Parallel zum Vorgehen bei der Maus wird der Winkel vom Käse zur Katze und der Sensorwinkle zur Mitte des Käses berechnet.

\[ angle\_cheese=\tan( \frac{\Delta x}{\Delta y} ) -cat\_phi \]

\[ laserMouse\_cheese  =  \vert \frac{ (angle\_cheese + 2  \pi) \% (2 \pi)}{angle\_increment}  \vert * angle\_increment \]

Nachdem berechnet wurde wo der Käse sich befindet, werden mithilfe der Kreisfunktion die sensor.range-Werte berechnet und gesetzt. $ sensor.range=\sqrt[]{ rad^2 -x^2 }$

\[ sensor.range_i = \Delta cheese - \sqrt[]{ cheese\_rad^2 -\frac{\tan( laser\_cheesMiddl - angle_i) }{\Delta cheese}^2 }\]
\hspace*{0.63\textwidth}\scalebox{0.7}{\begin{tabular}[h]{|c|}
\hline
Blau := $\frac{\tan( laser\_cheesMiddl - angle_i) }{\Delta cheese}$ \\
Rot := $\Delta cat\_cheese$ \\
Lilia := $sensor.range_i$ \\
\hline
\end{tabular}}
\mygraphics{0.5\textwidth}{catcheese.png}{Überblick Katze Käse}

Nachdem alle Werte berechnez sind kann die normake Kollisionsvermeidung durchgeführt werden. Die Katze "sieht" nun dort wo sich der Käse befindet einen Halbkreis und weicht diesem Objekt aus. Es wird der Katze eine Säule an der Position des Käse vorgeteucht.
\mygraphics{0.5\textwidth}{collisionCHEESE.png}{Käse als Hindernis Simuliert}


\section{Dikussion und Ausblick}
Alle
\subsection{Videos}

DIe Kritik bezieht sich auf das gegebene Problem

Änderung der Geschwindigkeit kann keine Lösung sein --> quasi gottgegeben
Mensch könnte auch nicht 100 kmh schnell rennen

Video 1 und 2
In den Videos ist zu sehen Maus funktioniert gut

aber auch nur weil maus drehung nicht ausnutzen

Video 3
Drehung ausgenutz und klar Besser
Im Falle von Kraftbasiert muss die Maus einen Fehler machen ansosnten hat die Katze keine Chance


Große Probleme Bei Sackgassen
Robo besitz kein REcover verhalten
Maus direct hinter hinderniss

Katze kann hängenbleiben

Optimierung durch NN

-> VErhaltensfusion

Aufteilung in mehrere Ros Nodes

KRaftbasiert ist rein reactiv

kein Planendes VErhalten

Mit mehr Rechenkapazität ist Planendes Verhalten vielversprechend


Homing mittels A stern möglich
Berechnung ist aufwändig

Unser Design ist in usneren Augen das beste mit den gegbenen Voprraussetzungen weil




\subsection{VErbesserungen}

VErhaltensfusion

Alle
\subsection{Szenarien}
Alle




\section{Hallo}
\subsection{whadiwahfliwahfi}
Facilis repudiandae deleniti facere tempora tenetur nostrum eos iusto. Ipsum non nihil magni rem quam. Quas autem non esse ut voluptatem omnis.
Adipisci laboriosam aut omnis nam saepe impedit. Deleniti voluptates corporis in. Dolorem hic dolore quibusdam sed non sed.
Impedit ea provident atque quo. Dolor eaque quia consectetur veniam in voluptatum. A nihil voluptatem sed autem similique molestiae. Tenetur veniam architecto iure ducimus natus atque hic. Repellat fuga animi nam ut neque et ea sunt. Odit velit esse quidem facilis.
Quibusdam qui est et rem a velit distinctio. Ut maiores dignissimos rem provident iure sed. Dolores quis voluptates error non eaque. Atque autem sed labore velit. Repellat itaque animi sit fuga omnis ut velit.
Voluptatem nostrum eos ea eligendi adipisci nemo veritatis. Est temporibus quaerat nostrum id. Ullam voluptatem neque hic at odit et architecto laboriosam.
\section{Hallo2}








%%%
%%% end main document
%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \appendix  %% include it, if something (bibliography, index, ...) follows below

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% bibliography
%%%
%%% available styles: abbrv, acm, alpha, apalike, ieeetr, plain, siam, unsrt
%%%
% \bibliographystyle{plain}

%%% name of the bibliography file without .bib
%%% e.g.: literatur.bib -> \bibliography{literatur}
% \bibliography{FIXXME}

\end{document}
%%% }}}
%%% END OF FILE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Notice!
%%% This file uses the outline-mode of emacs and the foldmethod of Vim.
%%% Press 'zi' to unfold the file in Vim.
%%% See ':help folding' for more information.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Local Variables:
%% mode: outline-minor
%% OPToutline-regexp: "%% .*"
%% OPTeval: (hide-body)
%% emerge-set-combine-versions-template: "%a\n%b\n"
%% End:
%% vim:foldmethod=marker
